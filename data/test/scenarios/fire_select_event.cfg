# wmllint: no translatables

# Check that [select_unit]fire_event=yes or Lua's unit:select(true, true) triggers
# an [event]name=select. Using the WML tag here, so that the test can easily be run
# on 1.14 as well as 1.16.
{GENERIC_UNIT_TEST "fire_select_event" (
    [event]
        name=select

        {VARIABLE select_event_happened yes}
    [/event]

    [event]
        name=turn 1

        {VARIABLE select_event_happened no}
        [select_unit]
            id=alice
            fire_event=yes
        [/select_unit]
        {ASSERT ({VARIABLE_CONDITIONAL select_event_happened boolean_equals yes})}
        {CLEAR_VARIABLE select_event_happened}
        {SUCCEED}
    [/event]
)}
